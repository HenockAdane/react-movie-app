(this["webpackJsonpreact-movie-app"]=this["webpackJsonpreact-movie-app"]||[]).push([[0],{32:function(e,t,a){e.exports=a(48)},37:function(e,t,a){},38:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},39:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(30),o=a.n(s),i=a(1),l=(a(37),a(14)),c=a(3),u=a(4),m=a(9),p=a(6),h=a(5),f=(a(38),a(39),a(2)),v=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).state={search:""},e}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("header",null,r.a.createElement("h1",null,this.props.h1),r.a.createElement("input",{type:"text",id:"search",placeholder:"Search for a movie",onChange:this.props.change,value:this.props.value}),this.props.link)}}]),a}(r.a.Component),d=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){return Object(c.a)(this,a),t.call(this)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement(i.b,{onClick:this.props.moreInfo,className:this.props.divClass,to:this.props.to1},r.a.createElement("img",{onClick:this.props.moreInfo,src:this.props.imgURL,className:"img"}),r.a.createElement("p",{onClick:this.props.moreInfo,className:"title"},this.props.title),r.a.createElement(i.b,{to:this.props.to2},r.a.createElement("i",{onClick:this.props.click,className:this.props.starClass})))}}]),a}(r.a.Component),g=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e;return e=null!==this.props.currentUser?r.a.createElement(v,{change:this.props.inputChange,value:this.props.input,h1:"Welcome To Henock's React Movie Library",link:r.a.createElement("div",null,r.a.createElement(i.b,{to:"/",className:"yellow"},"HOME",r.a.createElement("i",{class:"fas fa-home"})),r.a.createElement(i.b,{to:"/favourites"},"Favourites",r.a.createElement("i",{class:"fas fa-star"})),r.a.createElement(i.b,{to:"/SignInOrUp",onClick:this.props.signOut},"SIGN OUT"))}):r.a.createElement(v,{change:this.props.inputChange,value:this.props.input,h1:"Welcome To Henock's React Movie Library",link:r.a.createElement("div",null,r.a.createElement(i.b,{to:"/",className:"yellow"},"HOME",r.a.createElement("i",{class:"fas fa-home"})),r.a.createElement(i.b,{to:"/SignInOrUp"},"Favourites",r.a.createElement("i",{class:"fas fa-star"})),r.a.createElement(i.b,{to:"/SignInOrUp"},"SIGN IN/UP"))}),r.a.createElement("div",null,e,r.a.createElement("div",{className:"container"},this.props.movies))}}]),a}(r.a.Component),E=a(18),b=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("button",{type:this.props.type,onClick:this.props.click,id:this.props.id,className:this.props.class},this.props.text)}}]),a}(r.a.Component),O=a(7),w=a.n(O);a(22),a(23);function y(){var e=new w.a.auth.GoogleAuthProvider;return e.setCustomParameters({prompt:"select_account"}),w.a.auth().signInWithPopup(e)}w.a.initializeApp({apiKey:"AIzaSyDV8sLewAkyYX3FTwWRCmV7HctLodLFtoI",authDomain:"react-movie-app-d3481.firebaseapp.com",databaseURL:"https://react-movie-app-d3481.firebaseio.com",projectId:"react-movie-app-d3481",storageBucket:"react-movie-app-d3481.appspot.com",messagingSenderId:"845197325260",appId:"1:845197325260:web:6d40951e3cd4eaef456369"});var C=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).state={email:"",password:""},e.change=e.change.bind(Object(m.a)(e)),e.signIn=e.signIn.bind(Object(m.a)(e)),e.sub=e.sub.bind(Object(m.a)(e)),e}return Object(u.a)(a,[{key:"change",value:function(e){var t=this;this.setState(Object(E.a)({},e.target.name,e.target.value),(function(){return console.log(t.state)}))}},{key:"signIn",value:function(){return e=this.state.email,t=this.state.password,w.a.auth().signInWithEmailAndPassword(e,t).then((function(e){console.log(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}))})).catch((function(e){return console.log(e)})),this.setState({email:"",password:""});var e,t}},{key:"sub",value:function(e){e.preventDefault()}},{key:"render",value:function(){return r.a.createElement("div",{className:"signIn"},r.a.createElement("h3",null,"Sign In Here To Access And Add To Favourites Or Sign Up Below"),r.a.createElement("form",{onSubmit:this.sub,className:"signIn-form"},r.a.createElement("label",{for:"email"},"Email"),r.a.createElement("input",{type:"email",name:"email",id:"email",placeholder:"Enter Your Email Here",value:this.state.email,required:!0,onChange:this.change}),r.a.createElement("label",{for:"password"},"password"),r.a.createElement("input",{type:"password",name:"password",id:"password",placeholder:"Enter Your Password Here",value:this.state.password,required:!0,onChange:this.change}),r.a.createElement(b,{type:"submit",class:"custom-button",click:this.signIn,text:"SIGN IN"}),r.a.createElement(b,{type:"button",class:"custom-button google-login",text:"GOOGLE SIGN IN",click:y})))}}]),a}(r.a.Component),I=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).state={displayName:"",email:"",password:"",confirmPassword:""},e.change=e.change.bind(Object(m.a)(e)),e.signUp=e.signUp.bind(Object(m.a)(e)),e.sub=e.sub.bind(Object(m.a)(e)),e}return Object(u.a)(a,[{key:"change",value:function(e){var t=this;this.setState(Object(E.a)({},e.target.name,e.target.value),(function(){return console.log(t.state)}))}},{key:"signUp",value:function(){var e,t,a;this.state.password===this.state.confirmPassword?(e=this.state.displayName,t=this.state.email,a=this.state.password,w.a.firestore().collection("users").where("email","==",t).get().then((function(n){if(!(n.docs.length>0))return w.a.auth().createUserWithEmailAndPassword(t,a).then((function(a){console.log(a),w.a.firestore().collection("users").doc(a.user.uid).set({displayName:e,email:t,favourites:[],loginProvider:"Email&Password",createdAt:new Date})})).then((function(e){return console.log(e)}));console.log("This Email Is Already Use")})),this.setState({displayName:"",email:"",password:"",confirmPassword:""}),alert("Your Account Has Been Created :)")):alert("The Passwords Do Not Match")}},{key:"sub",value:function(e){e.preventDefault()}},{key:"render",value:function(){return r.a.createElement("div",{className:"signIn"},r.a.createElement("h3",null,"Sign Up Here If You Do Not Have An Account"),r.a.createElement("form",{onSubmit:this.sub,className:"signUp-form"},r.a.createElement("label",{for:"displayName"},"Full Name"),r.a.createElement("input",{type:"text",name:"displayName",placeholder:"Enter Your Full Name Here",value:this.state.displayName,required:!0,onChange:this.change}),r.a.createElement("label",{for:"email"},"Email"),r.a.createElement("input",{type:"email",name:"email",placeholder:"Enter Your Email Here",value:this.state.email,required:!0,onChange:this.change}),r.a.createElement("label",{for:"password"},"Password"),r.a.createElement("input",{type:"password",name:"password",placeholder:"Enter Your Password Here",value:this.state.password,required:!0,onChange:this.change}),r.a.createElement("label",{for:"confirmPassword"},"Confirm Password"),r.a.createElement("input",{type:"password",name:"confirmPassword",placeholder:"Enter Your Password Again Here",value:this.state.confirmPassword,required:!0,onChange:this.change}),r.a.createElement(b,{type:"submit",class:"custom-button",click:this.signUp,text:"SIGN UP"})))}}]),a}(r.a.Component),S=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e;return e=null!==this.props.currentUser?r.a.createElement(v,{change:this.props.inputChange,value:this.props.input,h1:"Welcome To ".concat(this.props.user,"'s Favourites Section"),link:r.a.createElement("div",null,r.a.createElement(i.b,{to:"/"},"HOME",r.a.createElement("i",{class:"fas fa-home"})),r.a.createElement(i.b,{to:"/favourites"},"Favourites",r.a.createElement("i",{class:"fas fa-star"})),r.a.createElement(i.b,{to:"/SignInOrUp",className:"yellow",onClick:this.props.signOut},"SIGN OUT"))}):r.a.createElement(v,{change:this.props.inputChange,value:this.props.input,h1:"Sign In Or Sign Up",link:r.a.createElement("div",null,r.a.createElement(i.b,{to:"/"},"HOME",r.a.createElement("i",{class:"fas fa-home"})),r.a.createElement(i.b,{to:"/SignInOrUp"},"Favourites",r.a.createElement("i",{class:"fas fa-star"})),r.a.createElement(i.b,{to:"/SignInOrUp",className:"yellow"},"SIGN IN/UP"))}),r.a.createElement("div",null,e,r.a.createElement(C,null),r.a.createElement(I,null))}}]),a}(r.a.Component),j=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).state={favourites:[]},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;w.a.auth().onAuthStateChanged((function(t){console.log(t),t?w.a.firestore().collection("users").doc(t.uid).get().then((function(t){null!==t.data().favourites?t.data().favourites.forEach((function(t){fetch("https://www.omdbapi.com/?t=".concat(t,"&apikey=thewdb")).then((function(e){return e.json()})).then((function(t){"N/A"!==t.Poster&&e.setState({favourites:[].concat(Object(l.a)(e.state.favourites),[r.a.createElement(d,{divClass:"MovieDiv yellow",starClass:"fas fa-star yellow",imgURL:t.Poster,title:t.Title,to:"/favourites",click:e.props.toggleFav})])})}))})):console.log("no favs")})):e.setState({favourites:[]},(function(){return console.log(e.state.favourites)}))}))}},{key:"render",value:function(){var e;return e=null!==this.props.currentUser?r.a.createElement(v,{change:this.props.inputChange,value:this.props.input,h1:"Welcome To ".concat(this.props.user,"'s Favourites Section"),link:r.a.createElement("div",null,r.a.createElement(i.b,{to:"/"},"HOME",r.a.createElement("i",{class:"fas fa-home"})),r.a.createElement(i.b,{to:"/favourites",className:"yellow"},"Favourites",r.a.createElement("i",{class:"fas fa-star"})),r.a.createElement(i.b,{to:"/SignInOrUp",onClick:this.props.signOut},"SIGN OUT"))}):r.a.createElement(v,{change:this.props.inputChange,value:this.props.input,h1:"Welcome To Your Favourite Movies",link:r.a.createElement("div",null,r.a.createElement(i.b,{to:"/"},"HOME",r.a.createElement("i",{class:"fas fa-home"})),r.a.createElement(i.b,{to:"/SignInOrUp",className:"yellow"},"Favourites",r.a.createElement("i",{class:"fas fa-star"})),r.a.createElement(i.b,{to:"/SignInOrUp"},"SIGN IN/UP"))}),r.a.createElement("div",null,e,r.a.createElement("div",{className:"container"},this.state.favourites))}}]),a}(r.a.Component),k=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).state={movie:""},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("https://www.omdbapi.com/?t=".concat(this.props.title,"&apikey=thewdb")).then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({movie:r.a.createElement("div",{className:"more-info"},r.a.createElement("div",{className:"part1"},r.a.createElement("img",{src:t.Poster}),r.a.createElement("div",{className:"buttons"},r.a.createElement("a",{className:"view",href:"https://imdb.com/title/".concat(t.imdbID),target:"_blank"},"View IMDG"),r.a.createElement(i.b,{className:"back",to:"/"},"Go Back"))),r.a.createElement("div",{className:"part2"},r.a.createElement("ul",null,r.a.createElement("h1",null,t.Title),r.a.createElement("li",null,r.a.createElement("h4",null,"Released:"),t.Released),r.a.createElement("li",null,r.a.createElement("h4",null,"Genre:"),t.Genre),r.a.createElement("li",null,r.a.createElement("h4",null,"Rated:"),t.Rated),r.a.createElement("li",null,r.a.createElement("h4",null,"IMDG Rating:"),t.imdbRating),r.a.createElement("li",null,r.a.createElement("h4",null,"Director:"),t.Director),r.a.createElement("li",null,r.a.createElement("h4",null,"Actors:"),t.Actors),r.a.createElement("li",null,r.a.createElement("h4",null,"Plot:"),t.Plot))))})}))}},{key:"render",value:function(){return this.state.movie}}]),a}(r.a.Component),N=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).state={userName:"",currentUser:null,currentMovie:"",favourites:[],movies:[],input:""},e.inputChange=e.inputChange.bind(Object(m.a)(e)),e.signOut=e.signOut.bind(Object(m.a)(e)),e.toggleFav=e.toggleFav.bind(Object(m.a)(e)),e.moreInfo=e.moreInfo.bind(Object(m.a)(e)),e}return Object(u.a)(a,[{key:"moreInfo",value:function(e){e.target.classList.contains("MovieDiv")?(console.log(e.target.children[1].textContent),this.setState({currentMovie:e.target.children[1].textContent})):e.target.classList.contains("img")?(console.log(e.target.parentElement.children[1].textContent),this.setState({currentMovie:e.target.parentElement.children[1].textContent})):(console.log(e.target.textContent),this.setState({currentMovie:e.target.textContent}))}},{key:"componentDidMount",value:function(){var e=this;w.a.auth().onAuthStateChanged((function(t){!function(e){e&&w.a.firestore().collection("users").doc(e.uid).get().then((function(t){if(console.log(t),!t.exists)return w.a.firestore().collection("users").doc(e.uid).set({displayName:e.displayName,email:e.email,favourites:[],loginProvider:e.providerData[0].providerId,createdAt:new Date});console.log("bruhh")}))}(t),e.setState({currentUser:t},(function(){return console.log(e.state.currentUser)})),w.a.firestore().collection("users").doc(t.uid).get().then((function(a){null!==a.data().favourites?e.setState({userName:a.data().displayName,favourites:a.data().favourites},(function(){return console.log(e.state.currentUser,e.state.favourites)})):e.setState({userName:a.data().displayName,currentUser:t,favourites:[]},(function(){return console.log(e.state.currentUser,e.state.favourites)}))}))}))}},{key:"inputChange",value:function(e){var t=this;this.setState({input:e.target.value},(function(){console.log(t.state.input),fetch("https://www.omdbapi.com/?s=".concat(t.state.input,"&apikey=thewdb")).then((function(e){return e.json()})).then((function(e){"False"===e.Response?t.setState({movieFound:!1}):t.setState({movies:e.Search.map((function(e){if("N/A"!==e.Poster)return e}))},(function(){return console.log(t.state.movies)}))}))}))}},{key:"signOut",value:function(){var e=this;w.a.auth().signOut().then((function(){console.log("Signed Out"),e.setState({favourites:[]},(function(){return console.log(e.state.favourites)}))})).catch((function(e){return console.log(e)}))}},{key:"toggleFav",value:function(e){var t=this,a=e.target;w.a.auth().onAuthStateChanged((function(e){if(e){console.log(a),console.log(a.parentElement.children),a.classList.toggle("yellow"),a.parentElement.parentElement.classList.toggle("yellow");var n=a.parentElement.parentElement.children[1].textContent;if(a.classList.contains("yellow"))t.setState((function(e){return{favourites:[].concat(Object(l.a)(e.favourites),[n])}}),(function(){console.log(t.state.favourites),w.a.firestore().collection("users").doc(e.uid).update({favourites:t.state.favourites})}));else{var r=a.parentElement.parentElement.children[1].textContent,s=Object(l.a)(t.state.favourites);s.splice(Object(l.a)(t.state.favourites).indexOf(r),1),t.setState({favourites:s},(function(){console.log(t.state.favourites),w.a.firestore().collection("users").doc(e.uid).update({favourites:t.state.favourites})}))}}else console.log("Sign in to save as and view favourites")}))}},{key:"render",value:function(){var e=this,t=this.state.movies.map((function(t){return e.state.currentUser?void 0!==t?(console.log(t.Title),e.state.favourites.includes(t.Title)?r.a.createElement(d,{to1:"/moreInfo",to2:"/",moreInfo:e.moreInfo,divClass:"MovieDiv yellow",starClass:"fas fa-star yellow",imgURL:t.Poster,title:t.Title,click:e.toggleFav}):r.a.createElement(d,{to1:"/moreInfo",to2:"/",moreInfo:e.moreInfo,divClass:"MovieDiv",starClass:"fas fa-star",imgURL:t.Poster,title:t.Title,click:e.toggleFav})):void 0:void 0!==t?r.a.createElement(d,{divClass:"MovieDiv",moreInfo:e.moreInfo,starClass:"fas fa-star",imgURL:t.Poster,title:t.Title,to1:"/moreInfo",to2:"/SignInOrUp",click:e.toggleFav}):void 0}));return r.a.createElement("div",null,r.a.createElement(f.c,null,r.a.createElement(f.a,{exact:!0,path:"/",render:function(){return r.a.createElement(g,{inputChange:e.inputChange,input:e.state.input,signOut:e.signOut,currentUser:e.state.currentUser,movies:t})}}),r.a.createElement(f.a,{exact:!0,path:"/favourites",render:function(){return r.a.createElement(j,{inputChange:e.inputChange,input:e.state.input,signOut:e.signOut,user:e.state.userName,currentUser:e.state.currentUser,toggleFav:e.toggleFav})}}),r.a.createElement(f.a,{exact:!0,path:"/SignInOrUp",render:function(){return r.a.createElement(S,{inputChange:e.inputChange,input:e.state.input,signOut:e.signOut,user:e.state.userName,currentUser:e.state.currentUser})}}),"// ",r.a.createElement(f.a,{exact:!0,path:"/moreInfo",render:function(){return r.a.createElement(k,{title:e.state.currentMovie})}})))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(i.a,null,r.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[32,1,2]]]);
//# sourceMappingURL=main.f484d04f.chunk.js.map